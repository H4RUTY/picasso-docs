---
title: 'スケジュール'
---

import scheduleList from './schedule.ts';
import { Flag, Tag as TagIcon, SquareCheck, TreePalm } from 'lucide-react';

{(() => {
const today = new Date();
const y = today.getFullYear();
const m = today.getMonth() + 1;
const d = today.getDate();
const todayKey = Number(`${y}${String(m).padStart(2, '0')}${String(d).padStart(2, '0')}`);
const formatMD = (yyyymmdd) => {
const s = String(yyyymmdd);
const m = Number(s.slice(4, 6));
const d = Number(s.slice(6, 8));
return `${m}/${d}`;
};

return (

<div className="overflow-x-auto">
  <table className="w-full table-auto border-collapse text-sm">
    <thead>
      <tr className="border-b border-neutral-200 dark:border-neutral-800 text-neutral-600 dark:text-neutral-300">
        <th className="text-left py-2 pr-3 font-medium">日付</th>
        <th className="text-left py-2 pr-3 font-medium">曜日</th>
        <th className="text-left py-2 pr-3 font-medium">内容</th>
        <th className="text-left py-2 pr-3 font-medium">ToDos</th>
        <th className="text-left py-2 pr-3 font-medium">タグ</th>
      </tr>
    </thead>
    <tbody>
      {scheduleList.map(item => {
        const itemKey = item.date; // YYYYMMDD number
        const isPast = itemKey < todayKey;
        const dayLabel = item.day === 'fri' ? '金' : item.day === 'wed' ? '水' : item.day;

        const renderTag = (tag) => {
          if (tag === '#milestone') {
            return (
              <span className="inline-flex items-center gap-1 rounded-full px-2 py-0.5 bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200">
                <Flag size={14} /> マイルストーン
              </span>
            );
          }
          if (tag === '#task') {
            return (
              <span className="inline-flex items-center gap-1 rounded-full px-2 py-0.5 bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200">
                <SquareCheck size={14} /> タスク
              </span>
            );
          }
          if (tag === '#holiday') {
            return (
              <span className="inline-flex items-center gap-1 rounded-full px-2 py-0.5 bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200">
                <TreePalm size={14} /> 休暇
              </span>
            );
          }
          return (
            <span className="inline-flex items-center gap-1 rounded-full px-2 py-0.5 bg-neutral-100 text-neutral-800 dark:bg-neutral-900/40 dark:text-neutral-200">
              <TagIcon size={14} /> {tag}
            </span>
          );
        };

        return (
          <tr key={itemKey} className="border-b border-neutral-100 dark:border-neutral-900">
            <td className={isPast ? 'py-2 pr-3 whitespace-nowrap text-neutral-400 dark:text-neutral-600 line-through' : 'py-2 pr-3 whitespace-nowrap text-neutral-900 dark:text-neutral-100'}>{formatMD(itemKey)}</td>
            <td className={isPast ? 'py-2 pr-3 whitespace-nowrap text-neutral-400 dark:text-neutral-600 line-through' : 'py-2 pr-3 whitespace-nowrap text-neutral-900 dark:text-neutral-100'}>{dayLabel}</td>
            <td className={isPast ? 'py-2 pr-3 text-neutral-400 dark:text-neutral-600 line-through' : 'py-2 pr-3 text-neutral-900 dark:text-neutral-100'}>{item.content}</td>
            <td className={isPast ? 'py-2 pr-3 text-neutral-400 dark:text-neutral-600 line-through' : 'py-2 pr-3 text-neutral-700 dark:text-neutral-300'}>{item.todos}</td>
            <td className="py-2 pr-3">
              <div className="flex flex-wrap gap-2">
                {(item.tags || ['#task']).map(t => (
                  <span key={t}>
                    {renderTag(t)}
                  </span>
                ))}
              </div>
            </td>
          </tr>
        );
      })}
    </tbody>

  </table>
</div>
);
})()}
